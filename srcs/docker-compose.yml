version: '3'

services:
  nginx:
    build: ./requirements/nginx
    ports:
      - 443:443
    volumes:
      - ../docker_test/index.html:/var/www/index.html
      - ./requirements/nginx/tools:/etc/nginx/ssl/
    restart: always
    container_name: nginx
#    depends_on:
#      - wordpress
  mariadb:
    build: 
      context: .
      dockerfile: requirements/mariadb/Dockerfile
      args:
        DB_NAME: ${DB_NAME}
        DB_USER: ${DB_USER}
        DB_PASS: ${DB_PASS}
        DB_ROOT: ${DB_ROOT}
    ports:
      - 3306:3306
    restart: always
    container_name: mariadb
